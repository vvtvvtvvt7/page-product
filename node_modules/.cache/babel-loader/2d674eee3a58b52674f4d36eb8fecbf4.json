{"ast":null,"code":"import _slicedToArray from \"/home/vladimir/react/page-product/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"/home/vladimir/react/page-product/src/product-page/product-page.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport Title from \"/src/title/title\";\nimport Article from \"/src/article/article\";\nimport Description from \"/src/description/description\";\nimport Comments from \"/src/comments/comments\";\nimport Popularity from \"/src/popularity/popularity\";\nimport Slider from \"/src/slider/slider\";\nimport Tabs from \"/src/tabs/tabs\";\nimport PopUp from \"/src/popup/popup\";\nimport Order from \"/src/order/order\";\nimport Accordion from \"/src/accordion/accordion\";\nimport { StyledProductPage, Header, ProductWrapper, ProductInfo, ProductInfoLine, PageCounter, BuyButton, PageFullPrice, DeliveryValue } from \"./styled\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar MAX_TEXT_SIZE = 200;\nvar COMMENTS_COUNT = 3;\n\nfunction ProductPage(_ref) {\n  _s();\n\n  var product = _ref.product,\n      showInfoInAccordion = _ref.showInfoInAccordion;\n\n  var _useState = useState(1),\n      _useState2 = _slicedToArray(_useState, 2),\n      productCount = _useState2[0],\n      setProductCount = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      isShowAllDescription = _useState4[0],\n      setIsShowAllDescription = _useState4[1];\n\n  var _useState5 = useState(COMMENTS_COUNT),\n      _useState6 = _slicedToArray(_useState5, 2),\n      commentsShow = _useState6[0],\n      setCommentsShow = _useState6[1];\n\n  var _useState7 = useState(false),\n      _useState8 = _slicedToArray(_useState7, 2),\n      isShowPopup = _useState8[0],\n      setIsShowPopup = _useState8[1];\n\n  var price = product.price * productCount;\n  var oldPrice = product.oldPrice * productCount;\n  var tabs = [{\n    title: \"Описание\",\n    content: /*#__PURE__*/_jsxDEV(Description, {\n      text: isShowAllDescription ? product.description : product.description.slice(0, MAX_TEXT_SIZE),\n      onShowMore: function onShowMore() {\n        return setIsShowAllDescription(!isShowAllDescription);\n      },\n      isShowAllDescription: isShowAllDescription\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 9\n    }, this)\n  }, {\n    title: \"Комментарии\",\n    content: /*#__PURE__*/_jsxDEV(Comments, {\n      comments: product.comments.slice(0, commentsShow),\n      onShowMore: function onShowMore() {\n        return setCommentsShow(commentsShow + COMMENTS_COUNT);\n      },\n      allCommentsLength: product.comments.length\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 9\n    }, this)\n  }];\n  return /*#__PURE__*/_jsxDEV(StyledProductPage, {\n    children: [/*#__PURE__*/_jsxDEV(Header, {\n      children: [/*#__PURE__*/_jsxDEV(Title, {\n        children: product.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Article, {\n        children: product.article\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ProductWrapper, {\n      children: [/*#__PURE__*/_jsxDEV(Slider, {\n        images: product.images\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ProductInfo, {\n        children: [/*#__PURE__*/_jsxDEV(ProductInfoLine, {\n          children: [\"\\u0426\\u0435\\u043D\\u0430: \", /*#__PURE__*/_jsxDEV(PageFullPrice, {\n            oldPrice: oldPrice,\n            price: price\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ProductInfoLine, {\n          children: [\"\\u041A\\u043E\\u043B\\u0438\\u0447\\u0435\\u0441\\u0442\\u0432\\u043E:\", \" \", /*#__PURE__*/_jsxDEV(PageCounter, {\n            value: productCount,\n            minValue: 1,\n            onChange: setProductCount\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ProductInfoLine, {\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"\\u0414\\u043E\\u0441\\u0442\\u0430\\u0432\\u043A\\u0430:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 13\n          }, this), \" \", /*#__PURE__*/_jsxDEV(DeliveryValue, {\n            children: product.delivery\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(BuyButton, {\n          size: \"large\",\n          onClick: function onClick() {\n            return setIsShowPopup(true);\n          },\n          children: \"\\u041A\\u0443\\u043F\\u0438\\u0442\\u044C\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Popularity, {\n          count: product.comments.length\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this), showInfoInAccordion ? /*#__PURE__*/_jsxDEV(Accordion, {\n      items: tabs\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 30\n    }, this) : /*#__PURE__*/_jsxDEV(Tabs, {\n      tabs: tabs\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 59\n    }, this), /*#__PURE__*/_jsxDEV(PopUp, {\n      isShow: isShowPopup,\n      onClose: function onClose() {\n        return setIsShowPopup(false);\n      },\n      title: \"\\u041E\\u0444\\u043E\\u0440\\u043C\\u043B\\u0435\\u043D\\u0438\\u0435\",\n      children: /*#__PURE__*/_jsxDEV(Order, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 64,\n    columnNumber: 5\n  }, this);\n}\n\n_s(ProductPage, \"dfIR9pjpvdcVbNsa5uHkQCHVhYo=\");\n\n_c = ProductPage;\nexport default ProductPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"ProductPage\");","map":{"version":3,"sources":["/home/vladimir/react/page-product/src/product-page/product-page.js"],"names":["React","useState","Title","Article","Description","Comments","Popularity","Slider","Tabs","PopUp","Order","Accordion","StyledProductPage","Header","ProductWrapper","ProductInfo","ProductInfoLine","PageCounter","BuyButton","PageFullPrice","DeliveryValue","MAX_TEXT_SIZE","COMMENTS_COUNT","ProductPage","product","showInfoInAccordion","productCount","setProductCount","isShowAllDescription","setIsShowAllDescription","commentsShow","setCommentsShow","isShowPopup","setIsShowPopup","price","oldPrice","tabs","title","content","description","slice","comments","length","name","article","images","delivery"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport Title from \"/src/title/title\";\nimport Article from \"/src/article/article\";\nimport Description from \"/src/description/description\";\nimport Comments from \"/src/comments/comments\";\nimport Popularity from \"/src/popularity/popularity\";\nimport Slider from \"/src/slider/slider\";\nimport Tabs from \"/src/tabs/tabs\";\nimport PopUp from \"/src/popup/popup\";\nimport Order from \"/src/order/order\";\nimport Accordion from \"/src/accordion/accordion\";\n\nimport {\n  StyledProductPage,\n  Header,\n  ProductWrapper,\n  ProductInfo,\n  ProductInfoLine,\n  PageCounter,\n  BuyButton,\n  PageFullPrice,\n  DeliveryValue\n} from \"./styled\";\n\nconst MAX_TEXT_SIZE = 200;\nconst COMMENTS_COUNT = 3;\n\nfunction ProductPage({ product, showInfoInAccordion }) {\n  const [productCount, setProductCount] = useState(1);\n  const [isShowAllDescription, setIsShowAllDescription] = useState(false);\n  const [commentsShow, setCommentsShow] = useState(COMMENTS_COUNT);\n  const [isShowPopup, setIsShowPopup] = useState(false);\n  const price = product.price * productCount;\n  const oldPrice = product.oldPrice * productCount;\n\n  const tabs = [\n    {\n      title: \"Описание\",\n      content: (\n        <Description\n          text={\n            isShowAllDescription\n              ? product.description\n              : product.description.slice(0, MAX_TEXT_SIZE)\n          }\n          onShowMore={() => setIsShowAllDescription(!isShowAllDescription)}\n          isShowAllDescription={isShowAllDescription}\n        />\n      )\n    },\n    {\n      title: \"Комментарии\",\n      content: (\n        <Comments\n          comments={product.comments.slice(0, commentsShow)}\n          onShowMore={() => setCommentsShow(commentsShow + COMMENTS_COUNT)}\n          allCommentsLength={product.comments.length}\n        />\n      )\n    }\n  ];\n\n  return (\n    <StyledProductPage>\n      <Header>\n        <Title>{product.name}</Title>\n        <Article>{product.article}</Article>\n      </Header>\n      <ProductWrapper>\n        <Slider images={product.images} />\n        <ProductInfo>\n          <ProductInfoLine>\n            Цена: <PageFullPrice oldPrice={oldPrice} price={price} />\n          </ProductInfoLine>\n          <ProductInfoLine>\n            Количество:{\" \"}\n            <PageCounter\n              value={productCount}\n              minValue={1}\n              onChange={setProductCount}\n            />\n          </ProductInfoLine>\n          <ProductInfoLine>\n            <span>Доставка:</span>{\" \"}\n            <DeliveryValue>{product.delivery}</DeliveryValue>\n          </ProductInfoLine>\n          <BuyButton size=\"large\" onClick={() => setIsShowPopup(true)}>\n            Купить\n          </BuyButton>\n          <Popularity count={product.comments.length} />\n        </ProductInfo>\n      </ProductWrapper>\n      {showInfoInAccordion ? <Accordion items={tabs} /> : <Tabs tabs={tabs} />}\n      <PopUp\n        isShow={isShowPopup}\n        onClose={() => setIsShowPopup(false)}\n        title=\"Оформление\"\n      >\n        <Order />\n      </PopUp>\n    </StyledProductPage>\n  );\n}\n\nexport default ProductPage;\n"]},"metadata":{},"sourceType":"module"}